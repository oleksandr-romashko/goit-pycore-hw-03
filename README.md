# Python Programming: Foundations and Best Practices 2.0

### [# goit-pycore-hw-03](https://github.com/topics/goit-pycore-hw-03)

<p align="center">
  <img align="center" src="./assets/thumbnail.svg" width="200" title="Project thumbnail" alt="project thumbnail">
</p>


## Date, time and advance string operations using Python

This assignment consists of 4 parts in total, each specified separately and has a link to the solution file:

<details>

<summary>Assignment 1 - Days from today</summary>

#### Solution:

Solution for this task is located in the [src/task-1.py](./src/task-1.py) file.

#### Task description:

Створіть функцію `get_days_from_today(date)`, яка розраховує кількість днів між заданою датою і поточною датою.

#### Task requirements:

1. Функція приймає один параметр: `date` — рядок, що представляє дату у форматі `'РРРР-ММ-ДД'` (наприклад, `'2020-10-09'`). 
1. Функція повертає ціле число, яке вказує на кількість днів від заданої дати до поточної. Якщо задана дата пізніша за поточну, результат має бути від'ємним.
1. У розрахунках необхідно враховувати лише дні, ігноруючи час (години, хвилини, секунди).
1. Для роботи з датами слід використовувати модуль `datetime` Python.

#### Recommendations to the implementation:

1. Імпортуйте модуль `datetime`.
1. Перетворіть рядок дати у форматі `'РРРР-ММ-ДД'` у об'єкт `datetime`.
1. Отримайте поточну дату, використовуючи `datetime.today()`.
1. Розрахуйте різницю між поточною датою та заданою датою.
1. Поверніть різницю у днях як ціле число.

#### Evaluation criteria:

1. Коректність роботи функції: функція повинна точно обраховувати кількість днів між датами. 
1. Обробка винятків: функція має впоратися з неправильним форматом вхідних даних.
1. Читабельність коду: код повинен бути чистим і добре документованим.

#### Example:

Якщо сьогодні 5 травня 2021 року, виклик `get_days_from_today("2021-10-09")` повинен повернути `−157`, оскільки 9 жовтня 2021 року є на 157 днів пізніше від 5 травня 2021 року.

</details>

<details>

<summary>Assignment 2 - Random lottery numbers generator</summary>

#### Solution:

Solution for this task is located in the [src/task-2.py](./src/task-2.py) file.

#### Task description:

Щоб виграти головний приз лотереї, необхідний збіг кількох номерів на лотерейному квитку з числами, що випали випадковим чином і в певному діапазоні під час чергового тиражу. Наприклад, необхідно вгадати шість чисел від 1 до 49 чи п'ять чисел від 1 до 36 тощо.

Вам необхідно написати функцію `get_numbers_ticket(min, max, quantity)`, яка допоможе генерувати набір унікальних випадкових чисел для таких лотерей. Вона буде повертати випадковий набір чисел у межах заданих параметрів, причому всі випадкові числа в наборі повинні бути унікальні.

#### Task requirements:

1. Параметри функції:
    * `min` - мінімальне можливе число у наборі (не менше `1`).
    * `max` - максимальне можливе число у наборі (не більше `1000`).
    * `quantity` - кількість чисел, які потрібно вибрати (значення між `min` і `max`).
1. Функція генерує вказану кількість унікальних чисел у заданому діапазоні.
1. Функція повертає список випадково вибраних, відсортованих чисел. Числа в наборі не повинні повторюватися. Якщо параметри не відповідають заданим обмеженням, функція повертає пустий список.

#### Recommendations to the implementation:

1. Переконайтеся, що вхідні параметри відповідають заданим обмеженням.
1. Використовуйте модуль `random` для генерації випадкових чисел.
1. Використовуйте множину або інший механізм для забезпечення унікальності чисел.
1. Пам'ятайте, що функція `get_numbers_ticket` повертає відсортований список унікальних чисел.

#### Evaluation criteria:

1. Валідність вхідних даних: функція повинна перевіряти коректність параметрів.
1. Унікальність результату: усі числа у видачі повинні бути унікальними.
1. Відповідність вимогам: результат має бути у вигляді відсортованого списку.
1. Читабельність коду: код має бути чистим і добре документованим.

#### Example:

Припустимо, вам потрібно вибрати `6` унікальних чисел для лотерейного квитка, де числа повинні бути у діапазоні від `1` до `49`. Ви можете використати вашу функцію так:

```python
lottery_numbers = get_numbers_ticket(1, 49, 6)
print("Ваші лотерейні числа:", lottery_numbers)
```

Цей код викликає функцію `get_numbers_ticket` з параметрами `min=1`, `max=49` та `quantity=6`. В результаті ви отримаєте список з 6 випадковими, унікальними та відсортованими числами, наприклад, `[4, 15, 23, 28, 37, 45]`. Кожен раз при виклику функції ви отримуватимете різний набір чисел.

</details>

<details>

<summary>Assignment 3 - Normalize phone numbers</summary>

#### Solution:

Solution for this task is located in the [src/task-3.py](./src/task-3.py) file.

#### Task description:

У вашій компанії ведеться активна маркетингова кампанія за допомогою SMS-розсилок. Для цього ви збираєте телефонні номери клієнтів із бази даних, але часто стикаєтеся з тим, що номери записані у різних форматах. Наприклад:

```
"    +38(050)123-32-34"
"     0503451234"
"(050)8889900"
"38050-111-22-22"
"38050 111 22 11   "
```

Ваш сервіс розсилок може ефективно відправляти повідомлення лише тоді, коли номери телефонів представлені у коректному форматі. Тому вам необхідна функція, яка автоматично нормалізує номери телефонів до потрібного формату, видаляючи всі зайві символи та додаючи міжнародний код країни, якщо потрібно.

Розробіть функцію `normalize_phone(phone_number)`, що нормалізує телефонні номери до стандартного формату, залишаючи тільки цифри та символ `'+'` на початку. Функція приймає один аргумент - рядок з телефонним номером у будь-якому форматі та перетворює його на стандартний формат, залишаючи тільки цифри та символ `'+'`. Якщо номер не містить міжнародного коду, функція автоматично додає код `'+38'` (для України). Це гарантує, що всі номери будуть придатними для відправлення SMS.

#### Task requirements:

1. Параметр функції `phone_number` - це рядок з телефонним номером у різноманітних форматах.
1. Функція видаляє всі символи, крім цифр та символу `'+'`.
1. Якщо міжнародний код відсутній, функція додає код `'+38'`. Це враховує випадки, коли номер починається з `'380'` (додається лише `'+'`) та коли номер починається без коду (додається `'+38'`).
1. Функція повертає нормалізований телефонний номер у вигляді рядка.

#### Recommendations to the implementation:

1. Використовуйте модуль `re` для регулярних виразів для видалення непотрібних символів.
1. Перевірте, чи номер починається з `'+'`, і виправте префікс згідно з вказівками.
1. Видаліть всі символи, крім цифр та `'+'`, з номера телефону.
1. На забувайте повертати нормалізований номер телефону з функції.

#### Evaluation criteria:

1. Коректність роботи функції: функція має правильно обробляти різні формати номерів, враховуючи наявність або відсутність міжнародного коду.
1. Читабельність коду: код має бути чистим, добре організованим і добре документованим.
1. Правильне використання регулярних виразів для видалення зайвих символів та форматування номера.

#### Usage example:

```python
raw_numbers = [
    "067\\t123 4567",
    "(095) 234-5678\\n",
    "+380 44 123 4567",
    "380501234567",
    "    +38(050)123-32-34",
    "     0503451234",
    "(050)8889900",
    "38050-111-22-22",
    "38050 111 22 11   ",
]

sanitized_numbers = [normalize_phone(num) for num in raw_numbers]
print("Нормалізовані номери телефонів для SMS-розсилки:", sanitized_numbers)
```

У результаті ви повинні отримати список номерів у стандартному форматі, готових до використання у SMS-розсилці.

```
Нормалізовані номери телефонів для SMS-розсилки: 
['+380671234567', '+380952345678', '+380441234567', 
'+380501234567', '+380501233234', '+380503451234', 
'+380508889900', '+380501112222', '+380501112211']

```

</details>

<details>

<summary>Assignment 4 - Upcoming birthdays congratulations</summary>

#### Solution:

Solution for this task is located in the [src/task-4.py](./src/task-4.py) file.

#### Task description:

У межах вашої організації, ви відповідаєте за організацію привітань колег з днем народження. Щоб оптимізувати цей процес, вам потрібно створити функцію `get_upcoming_birthdays`, яка допоможе вам визначати, кого з колег потрібно привітати. Функція повинна повернути список всіх у кого день народження вперед на 7 днів включаючи поточний день.

У вашому розпорядженні є список `users`, кожен елемент якого містить інформацію про ім'я користувача та його день народження. Оскільки дні народження колег можуть припадати на вихідні, ваша функція також повинна враховувати це та переносити дату привітання на наступний робочий день, якщо необхідно.

#### Task requirements:

1. Параметр функції `users` - це список словників, де кожен словник містить ключі `name` (ім'я користувача, рядок) та `birthday` (день народження, рядок у форматі 'рік.місяць.дата').
1. Функція має визначати, чиї дні народження випадають вперед на 7 днів включаючи поточний день. Якщо день народження припадає на вихідний, дата привітання переноситься на наступний понеділок.
1. Функція повертає список словників, де кожен словник містить інформацію про користувача (ключ `name`) та дату привітання (ключ `congratulation_date`, дані якого у форматі рядка `'рік.місяць.дата'`).

#### Recommendations to the implementation:

1. Припускаємо, що ви отримали список `users`, де кожен словник містить `name` (ім'я користувача) та `birthday` (дата народження у форматі рядка `'рік.місяць.дата'`). Ви повинні перетворити дати народження з рядків у об'єкти `datetime`. Конвертуйте дату народження із рядка у `datetime` об'єкт - `datetime.strptime(user["birthday"], "%Y.%m.%d").date()`. Оскільки потрібна лише дата (без часу), використовуйте `.date()` для отримання тільки дати.
1. Визначте поточну дату системи за допомогою `datetime.today().date()`.
1. Пройдіться по списку `users` та аналізуйте дати народження кожного користувача (`for user in users:`).
1. Перевірте, чи вже минув день народження в цьому році (`if birthday_this_year < today`). Якщо так, розгляньте дату на наступний рік.
1. Визначте різницю між днем народження та поточним днем для визначення днів народження на наступний тиждень.
1. Перевірте, чи день народження припадає на вихідний. Якщо так, перенесіть дату привітання на наступний понеділок.
1. Створіть структуру даних, яка зберігатиме ім'я користувача та відповідну дату привітання, якщо день народження відбувається протягом наступного тижня.
1. Виведіть зібрані дані у вигляді списку словників з іменами користувачів та датами привітань.

#### Evaluation criteria:

1. Актуальність та коректність визначення днів народження на 7 днів вперед.
1. Правильність обробки випадків, коли дні народження припадають на вихідні.
1. Читабельність та структурованість коду.

#### Example

Припустимо, у вас є список `users`:

```python
users = [
    {"name": "John Doe", "birthday": "1985.01.23"},
    {"name": "Jane Smith", "birthday": "1990.01.27"}
]
```

Використання функції `get_upcoming_birthdays`:

```python
upcoming_birthdays = get_upcoming_birthdays(users)
print("Список привітань на цьому тижні:", upcoming_birthdays)
```

Якщо сьогодні `2024.01.22` результатом може бути:

```python
[
    {'name': 'John Doe', 'congratulation_date': '2024.01.23'}, 
    {'name': 'Jane Smith', 'congratulation_date': '2024.01.29'}
]
```

Цей список містить інформацію про те, кого і коли потрібно привітати з днем народження.

</details>